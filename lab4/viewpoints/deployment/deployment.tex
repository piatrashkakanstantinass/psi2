\section{Deployment Viewpoint}

\begin{figure}[ht]
    \centering
    \includesvg[width=\textwidth]{viewpoints/deployment/deployment.svg}
    \caption{Deployment diagram}
    \label{deployment-diagram}
\end{figure}

\subsection{Runtime Platform Required}
The operating system or runtime environment needed to execute the software includes Docker containers hosted on Azure Web App Services. The specific Docker images used are \texttt{node:20} for the frontend and \texttt{mcr.microsoft.com/dotnet/sdk:8.0} for the backend.

\subsection{Artifact Component Mapping}

\begin{figure}[ht]
    \centering
    \includesvg[width=\textwidth]{viewpoints/deployment/artifact-component.svg}
    \caption{Artifact component diagram}
    \label{artifact-component-diagram}
\end{figure}

\subsection{Specification and Quantity of Hardware or Hosting Required}
Necessary hardware resources and the number of physical or virtual machines include:
\begin{itemize}
    \item \textbf{Frontend and Backend Azure Web App Services:}
    \begin{itemize}
        \item Memory: 32 GB each
        \item vCPU: 8 each
        \item Storage: 512 GB each
        \item Slots: 3 each (for deployment slots)
    \end{itemize}
    \item \textbf{Azure PostgreSQL Server:}
    \begin{itemize}
        \item vCPUs: 4
        \item Memory: 16 GB
        \item Storage: 4 TB
    \end{itemize}
    \item \textbf{Azure Container Registry} is used to store Docker images securely and manage them efficiently.
    \item \textbf{Azure Blob Storage:}
    \begin{itemize}
        \item Access Tier: Hot
        \item Performance Tier: Standard
        \item Replication: Locally redundant storage (LRS)
    \end{itemize}
\end{itemize}
The deployment separates frontend and backend resources into different Azure Resource Groups, improving manageability and resource allocation.

\subsection{Third-Party Software Requirements}
External software dependencies required by the system include several Azure services:
\begin{itemize}
    \item \textbf{Azure Web App Services} for hosting the frontend and backend applications.
    \item \textbf{Azure PostgreSQL Server} for database management.
    \item \textbf{Azure Container Registry} for storing Docker images.
    \item \textbf{Azure Blob Storage} for storing user-uploaded files.
\end{itemize}
These third-party services are integral to the deployment process, ensuring that the applications are hosted, managed, and scaled effectively.

\subsection{Technology Compatibility}
To ensure all components of the system are compatible with each other, the chosen technologies include:
\begin{itemize}
    \item \textbf{Docker} ensures consistency across different environments.
    \item \textbf{Node.js and .NET} SDKs are well-supported on Azure.
    \item \textbf{Azure Web App Services} are designed to work seamlessly with Docker containers and Azure databases.
    \item \textbf{GitLab} CI/CD integrates smoothly with Azure services, automating the deployment process.
\end{itemize}

\subsection{Network Requirements}
The network infrastructure needed for the system includes:
\begin{itemize}
    \item \textbf{Private Endpoint} for the Azure PostgreSQL server ensures secure communication between the backend service and the database.
    \item \textbf{VNet Integration} provides a secure network boundary for the backend services, preventing exposure to the public internet.
    \item \textbf{Region:} North Europe, ensuring proximity to the target user base for reduced latency.
\end{itemize}

\subsection{Network Capacity Required}
The necessary network bandwidth and throughput are managed through a manual scaling strategy. The Azure Web App Services are configured to handle the expected load, with the ability to scale up or out as needed. The Azure PostgreSQL server is provisioned with sufficient network capacity to handle database requests efficiently.

\subsection{Perspectives}

\textbf{Security Perspective:} We use Azure services to ensure secure communication between components, such as Private Endpoint for the database, VNet Integration for the backend services and blob storage for user-uploaded files. The deployment is designed to minimize exposure to potential security threats.

\textbf{Performance Perspective:} The deployment is optimized for performance, with Azure Web App Services providing scalable resources for the frontend and backend applications. The Azure PostgreSQL server is provisioned with sufficient memory and storage to handle database requests efficiently.

\textbf{Availability and Resilience Perspective:} Azure ensures high availability and resilience for the system, with features such as deployment slots for zero-downtime deployments, locally redundant storage for blob storage, and automatic failover for the PostgreSQL server. The system is designed to minimize downtime and ensure continuous availability.

\textbf{Evolution Perspective:} The deployment is designed to be flexible and adaptable to future changes, with Azure services providing scalability and manageability. The use of Docker containers ensures consistency across different environments, making it easier to update and evolve the system over time.

\textbf{Location Perspective:} The deployment is hosted in the North Europe region to ensure proximity to the target user base for reduced latency. The network infrastructure is designed to provide optimal performance and reliability for users in the region.
